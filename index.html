<!doctype html>
<html lang="en">

<head>
  Â 
  <meta charset="utf-8" />
  Â 
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  Â  <title>Phone Installment Calculator</title>
  Â  <style>
    :root {
      font-family: system-ui, Arial, sans-serif;
    }

    body {
      margin: 0;
      padding: 24px;
      background: #f7f8fb;
    }

    .card {
      max-width: 760px;
      margin: 0 auto;
      background: #fff;
      border-radius: 16px;
      padding: 20px 22px;
      box-shadow: 0 8px 28px rgba(0, 0, 0, .06);
    }

    h1 {
      font-size: 20px;
      margin: 0 0 14px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .row {
      display: grid;
      gap: 6px;
    }

    label {
      font-size: 13px;
      color: #344054;
    }

    select,
    input {
      padding: 10px 12px;
      border: 1px solid #d6d9df;
      border-radius: 10px;
      font-size: 14px;
      background: #fff;
      outline: none;
    }

    select:focus,
    input:focus {
      border-color: #6aa6ff;
      box-shadow: 0 0 0 3px rgba(106, 166, 255, .25);
    }

    .muted {
      color: #667085;
      font-size: 12px;
    }

    .summary {
      margin-top: 16px;
      background: #fafbff;
      border: 1px dashed #d6d9df;
      border-radius: 12px;
      padding: 12px;
    }

    .summary p {
      margin: 6px 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }

    th,
    td {
      text-align: right;
      padding: 10px 8px;
      border-bottom: 1px solid #eef0f4;
      font-variant-numeric: tabular-nums;
    }

    th:first-child,
    td:first-child {
      text-align: left;
    }

    tfoot td {
      font-weight: 600;
    }

    .pill {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 12px;
      background: #eef2ff;
      color: #3730a3;
      margin-left: 6px;
    }

    .actions {
      margin-top: 10px;
      display: flex;
      gap: 8px;
    }

    button {
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid #d6d9df;
      background: #fff;
      cursor: pointer;
    }

    button:hover {
      border-color: #6aa6ff;
      box-shadow: 0 0 0 3px rgba(106, 166, 255, .18);
    }

    /* --- NEW CSS FOR NOTE BOX --- */
    .note-container {
      margin-top: 16px;
    }

    .note-container .actions {
      margin-top: 8px;
      justify-content: flex-start;
    }

    #clearNoteBtn {
      background: #fff9f9;
      color: #d9534f;
      border-color: #f3dede;
    }

    #clearNoteBtn:hover {
      background: #fdf7f7;
      border-color: #d9534f;
    }

    .note-display {
      margin-top: 12px;
      padding: 10px 14px;
      background: #fffbeb;
      /* Light yellow background */
      border: 1px solid #fde68a;
      border-radius: 12px;
      display: none;
      /* starts hidden */
      white-space: pre-wrap;
      /* respects line breaks */
      word-break: break-word;
      font-size: 14px;
    }

    .note-display.visible {
      display: block;
    }

    /* --- END NEW CSS --- */

    @media (max-width: 760px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  Â  <div class="card">
    Â  Â  <h1>Phone Installment Calculator
      Â  Â  Â  <span class="pill">3/4 â†’ Ã—1.10 â€¢ 5 â†’ Ã—1.15 â€¢ olo3 â†’ Ã—1.10 then 50/25/25</span>
      Â  Â  </h1>

    Â  Â  <div class="grid">
      Â  Â  Â  <div class="row">
        Â  Â  Â  Â  <label for="visa">Visa type</label>
        Â  Â  Â  Â  <select id="visa">
          Â  Â  Â  Â  Â  <option value="" selected>Select Visa typeâ€¦</option>
          Â  Â  Â  Â  Â  <option value="Visa1">E9,D2,F2,E7</option>
          Â  Â  Â  Â  Â  <option value="Visa2">F6</option>
          Â  Â  Â  Â  Â  <option value="Visa3">D4</option>
          Â  Â  Â  Â  Â  <option value="Visa4">A1</option>
          Â  Â  Â  Â  Â  <option value="Visa5">F</option>
          Â  Â  Â  Â  Â  <option value="Visa6">G1</option>
          Â  Â  Â  Â  Â  <option value="Visa7">O,E10</option>
          Â  Â  Â  Â  </select>
        Â  Â  Â  Â  <div class="muted">Choose card group; it controls which plans are allowed.</div>
        Â  Â  Â  Â  <div class="muted">á€á€á€ºá€á€™á€ºá€¸á€”á€Šá€ºá€¸á€•á€¼á€®á€¸ á€¡á€›á€…á€ºá€€á€»á€œ á€•á€­á€¯á€œá€­á€¯á€á€»á€„á€ºá€›á€„á€º á€›á€¯á€¶á€¸á€€á€­á€¯á€™á€±á€¸</div>
        Â  Â  Â  </div>

      Â  Â  Â  <div class="row">
        Â  Â  Â  Â  <label for="months">Installment plan</label>
        Â  Â  Â  Â  <select id="months" disabled>
          Â  Â  Â  Â  Â  <option value="">Select planâ€¦</option>
          Â  Â  Â  Â  </select>
        Â  Â  Â  Â  <div class="muted">Options depend on Visa type (supports numbers & special plan "olo3").</div>
        Â  Â  Â  </div>

      Â  Â  Â  <div class="row">
        Â  Â  Â  Â  <label for="price">Phone price</label>
        Â  Â  Â  Â  <input id="price" type="number" min="0" step="1" placeholder="e.g., 35990" />
        Â  Â  Â  Â  <div class="muted">Multiplier by plan: 3/4 â†’ Ã—1.10, 5 â†’ Ã—1.15. olo3 uses Ã—1.10 then 50/25/25 split.
        </div>
        Â  Â  Â  </div>

      Â  Â  Â  <div class="row">
        Â  Â  Â  Â  <label for="discount">Second-month discount</label>
        Â  Â  Â  Â  <input id="discount" type="number" min="0" step="1" value="0" />
        Â  Â  Â  Â  <div class="muted">This amount is subtracted from the 2nd payment only (not below 0).</div>
        Â  Â  Â  </div>
      Â  Â  </div>

    <div class="note-container">
      <div class="row">
        <label for="noteInput">Note</label>
        <input type="text" id="noteInput" placeholder="Add an optional note (e.g., customer name, special deal)...">
      </div>
      <div class="actions">
        <button id="saveNoteBtn">Save Note</button>
        <button id="clearNoteBtn">Clear Note</button>
      </div>
    </div>
    <div id="noteDisplay" class="note-display">
    </div>
    Â  Â  <div class="summary">
      Â  Â  Â  <p><b>Total (after multiplier):</b> <span id="total">â€“</span></p>
      Â  Â  Â  <p><b>Monthly payment:</b> <span id="monthly">â€“</span></p>
      Â  Â  Â  <p class="muted">For equal plans: Monthly = Total Ã· Months. For olo3: 50% / 25% / 25% of Total.</p>
      Â  Â  </div>

    Â  Â  <table id="schedule" style="display:none">
      Â  Â  Â  <thead>
        Â  Â  Â  Â  <tr>
          Â  Â  Â  Â  Â  <th>Payment</th>
          Â  Â  Â  Â  Â  <th>Amount</th>
          Â  Â  Â  Â  </tr>
        Â  Â  Â  </thead>
      Â  Â  Â  <tbody></tbody>
      Â  Â  Â  <tfoot>
        Â  Â  Â  Â  <tr>
          Â  Â  Â  Â  Â  <td>Total of payments shown</td>
          Â  Â  Â  Â  Â  <td id="sumShown">â€“</td>
          Â  Â  Â  Â  </tr>
        Â  Â  Â  </tfoot>
      Â  Â  </table>

    Â  Â  <div class="actions">
      Â  Â  Â  <button id="copyBtn">ğŸ“‹ Copy Payment Schedule</button>
      Â  Â  </div>
    Â 
  </div>
  Â  <div>
    Â  Â  <img src="image/i pad and tablet.jpg" alt="">
    Â  Â  <img src="image/i phone.jpg" alt="">
    Â  Â  <img src="image/pad pro 11 and 13.jpg" alt="">
    Â  Â  <img src="image/samsuang.jpg" alt="">
    Â  Â  <img src="image/watch and accessories.jpg" alt="">
    Â  Â  <img src="image/discount.jpg" alt="">

    Â  </div>

  Â 
  <script>
    // --- Configuration ---
    const VISA_RULES = {
      Visa1: [2, 3, 4, 5],
      Visa2: [2, 3, "olo3"],
      Visa3: ["4 (if >4month)", "olo3"],
      Visa4: [2, 3, 4],
      Visa5: ["to confirm to office"],
      Visa6: ["4 (if >4month)", "olo3"],
      Visa7: ["olo3"]
    };

    // Month-based multiplier
    function multiplierForMonths(months) {
      if (months === 5) return 1.15;
      if (months === 3 || months === 4) return 1.10;
      return 1.00; // fallback for 2 or others
    }

    // --- Elements & helpers ---
    const fmt = new Intl.NumberFormat(undefined, { maximumFractionDigits: 2 });
    const el = (id) => document.getElementById(id);
    const visaSel = el('visa');
    const monthsSel = el('months');
    const priceInp = el('price');
    const discountInp = el('discount');
    const totalEl = el('total');
    const monthlyEl = el('monthly');
    const scheduleTbl = el('schedule');
    const scheduleBody = scheduleTbl.querySelector('tbody');
    const sumShownEl = el('sumShown');
    const copyBtn = el('copyBtn');

    // --- NEW Note Elements ---
    const noteInp = el('noteInput');
    const saveNoteBtn = el('saveNoteBtn');
    const clearNoteBtn = el('clearNoteBtn');
    const noteDisplay = el('noteDisplay');
    // --- END NEW ---

    let lastPayments = []; Â  Â  Â // numbers of each payment
    let lastPlanLabel = ""; Â  Â  // "3 months", "olo3 (50/25/25)", etc.

    function optionLabel(m) {
      if (typeof m === 'number' && Number.isFinite(m)) return `${m} month${m > 1 ? 's' : ''}`;
      if (m === 'olo3') return 'olo3 (50/25/25)';
      return String(m); // show raw text for notes
    }

    function populateMonths() {
      const v = visaSel.value;
      monthsSel.innerHTML = '';
      const allowed = VISA_RULES[v] || [];

      if (!allowed.length) {
        monthsSel.disabled = true;
        monthsSel.innerHTML = '<option value="">Select planâ€¦</option>';
        return;
      }

      monthsSel.disabled = false;
      const ph = document.createElement('option');
      ph.value = '';
      ph.textContent = 'Select planâ€¦';
      ph.disabled = true; ph.selected = true;
      monthsSel.appendChild(ph);

      allowed.forEach(m => {
        const opt = document.createElement('option');
        opt.value = String(m);
        opt.textContent = optionLabel(m);
        monthsSel.appendChild(opt);
      });
    }

    // Burmese month labels up to 12
    const burmeseLabels = [
      "á€•á€‘á€™á€œá€¡á€á€½á€€á€ºá€€", "á€’á€¯á€á€­á€šá€œá€¡á€á€½á€€á€ºá€€", "á€á€á€­á€šá€œá€¡á€á€½á€€á€ºá€€", "á€…á€á€¯á€á€¹á€‘á€œá€¡á€á€½á€€á€ºá€€", "á€•á€‰á€¹á€…á€™á€œá€¡á€á€½á€€á€ºá€€",
      "á€†á€Œá€™á€œá€¡á€á€½á€€á€ºá€€", "á€á€á€¹á€á€™á€œá€¡á€á€½á€€á€ºá€€", "á€¡á€ á€™á€œá€¡á€á€½á€€á€ºá€€", "á€”á€á€™á€œá€¡á€á€½á€€á€ºá€€", "á€’á€á€™á€œá€¡á€á€½á€€á€ºá€€",
      "á€§á€€á€’á€á€™á€œá€¡á€á€½á€€á€ºá€€", "á€’á€½á€’á€á€™á€œá€¡á€á€½á€€á€ºá€€"
    ];

    function calcAndRender() {
      const selValue = monthsSel.value; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // "3" | "4" | "5" | "olo3" | "to confirm to office"
      const price = Number(priceInp.value || 0);
      const discount = Math.max(0, Number(discountInp.value || 0));

      // Guard
      if (!selValue || !isFinite(price) || price <= 0) {
        totalEl.textContent = 'â€“';
        monthlyEl.textContent = 'â€“';
        scheduleTbl.style.display = 'none';
        scheduleBody.innerHTML = '';
        sumShownEl.textContent = 'â€“';
        lastPayments = [];
        lastPlanLabel = '';
        return;
      }

      let payments = [];
      let total = 0;

      if (selValue === "olo3") {
        // olo3 behaves like a 3-month plan for multiplier
        const months = 3;
        const k = multiplierForMonths(months); // â†’ 1.10
        total = price * k;

        payments = [
          total * 0.50,
          Math.max(0, total * 0.25 - discount),
          total * 0.25
        ];

        totalEl.textContent = fmt.format(total);
        monthlyEl.textContent = "Varies";
      } else if (/^\d+$/.test(selValue)) {
        // Normal numeric plan
        const months = parseInt(selValue, 10);
        const k = multiplierForMonths(months);
        total = price * k;
        const monthly = total / months;

        for (let i = 1; i <= months; i++) {
          let amt = monthly;
          if (i === 2) amt = Math.max(0, monthly - discount);
          payments.push(amt);
        }

        totalEl.textContent = fmt.format(total);
        monthlyEl.textContent = fmt.format(monthly);
      } else {
        // Note / unsupported text
        totalEl.textContent = 'â€“';
        monthlyEl.textContent = selValue;
        scheduleTbl.style.display = 'none';
        scheduleBody.innerHTML = '';
        sumShownEl.textContent = 'â€“';
        lastPayments = [];
        lastPlanLabel = selValue;
        return;
      }

      // Save for copy
      lastPayments = payments.slice();
      lastPlanLabel = monthsSel.options[monthsSel.selectedIndex]?.textContent || "";

      // Render schedule
      scheduleBody.innerHTML = '';
      let sum = 0;
      payments.forEach((amt, i) => {
        sum += amt;
        const tr = document.createElement('tr');
        const tdL = document.createElement('td');
        const tdR = document.createElement('td');
        tdL.textContent = `${i === 0 ? 'First' : i === 1 ? 'Second' : i === 2 ? 'Third' : (i + 1) + 'th'} payment`;
        tdR.textContent = fmt.format(amt);
        tr.appendChild(tdL); tr.appendChild(tdR);
        scheduleBody.appendChild(tr);
      });
      sumShownEl.textContent = fmt.format(sum);
      scheduleTbl.style.display = '';
    }

    // --- NEW Note Functions ---
    function saveNote() {
      const noteText = noteInp.value.trim();
      if (noteText) {
        noteDisplay.textContent = noteText;
        noteDisplay.classList.add('visible');
      } else {
        clearNote(); // If they save an empty string, clear it
      }
    }

    function clearNote() {
      noteInp.value = '';
      noteDisplay.textContent = '';
      noteDisplay.classList.remove('visible');
    }
    // --- END NEW ---

    function copySchedule() {
      if (!lastPayments.length) {
        alert("á€›á€½á€±á€¸á€á€»á€šá€ºá€•á€¼á€®á€¸á€á€½á€€á€ºá€•á€¼á€®á€¸á€™á€¾ á€€á€±á€¬á€ºá€•á€®á€œá€¯á€•á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€šá€ºá‹");
        return;
      }

      // --- MODIFIED to include note ---
      let noteText = "";
      if (noteDisplay.classList.contains('visible') && noteDisplay.textContent) {
        noteText = `*** Note: ${noteDisplay.textContent.trim()} ***\n\n`;
      }

      let text = `${noteText}---- ${lastPlanLabel} á€¡á€á€½á€€á€ºá€†á€­á€¯á€›á€„á€ºá€á€±á€¬á€·\n`; // Note is added here
      lastPayments.forEach((amt, i) => {
        const label = burmeseLabels[i] || `${i + 1} á€œá€¡á€á€½á€€á€ºá€€`;
        text += `${label} ${fmt.format(amt)} w\n`;
      });
      navigator.clipboard.writeText(text)
        .then(() => alert("âœ… Payment schedule (and note) copied!")) // Updated alert
        .catch(() => alert("Copy failedâ€”please allow clipboard permissions."));
      // --- END MODIFICATION ---
    }

    // Events
    visaSel.addEventListener('change', () => { populateMonths(); calcAndRender(); });
    monthsSel.addEventListener('change', calcAndRender);
    priceInp.addEventListener('input', calcAndRender);
    discountInp.addEventListener('input', calcAndRender);
    copyBtn.addEventListener('click', copySchedule);

    // --- NEW Note Events ---
    saveNoteBtn.addEventListener('click', saveNote);
    clearNoteBtn.addEventListener('click', clearNote);
    // --- END NEW ---

    // Init
    populateMonths();
    calcAndRender();
  </script>
</body>

</html>